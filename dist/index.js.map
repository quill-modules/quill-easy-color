{"version":3,"file":"index.js","sources":["../src/ui/easy-color-pick.js","../src/utils/debounce.js","../src/theme/easy-color-snow.js","../src/theme/easy-color-bubble.js"],"sourcesContent":["import Quill from 'quill';\r\nimport { debounce } from '../utils';\r\nconst Picker = Quill.import('ui/picker');\r\n\r\nexport default class EasyColorPicker extends Picker {\r\n  constructor(select, label, themeOptions) {\r\n    super(select);\r\n    this.themeOptions = Object.assign(\r\n      {\r\n        localStorageKey: 'used-color',\r\n        closeAfterChange: true,\r\n        customColorChangeDelay: 300,\r\n        maxHistoryColor: 10,\r\n      },\r\n      themeOptions\r\n    );\r\n    this.label.innerHTML = label;\r\n    this.container.classList.add('ql-color-picker');\r\n\r\n    this.localColorUsedKey = `${this.select.className}-${this.themeOptions.localStorageKey}`;\r\n    this.usedColorOptions = [];\r\n    try {\r\n      this.usedColor = JSON.parse(localStorage.getItem(this.localColorUsedKey));\r\n      if (!this.usedColor || !(this.usedColor instanceof Array)) {\r\n        throw new Error('usedColor get wrong type');\r\n      }\r\n    } catch (e) {\r\n      localStorage.setItem(this.localColorUsedKey, []);\r\n      this.usedColor = [];\r\n    }\r\n    this.createUsedColor();\r\n  }\r\n\r\n  createUsedColor() {\r\n    const usedWrap = document.createElement('div');\r\n    usedWrap.classList.add('used');\r\n\r\n    const usedColorLabels = document.createElement('div');\r\n    usedColorLabels.classList.add('used-list');\r\n    usedWrap.appendChild(usedColorLabels);\r\n    this.options.appendChild(usedWrap);\r\n    this.usedColorLabels = usedColorLabels;\r\n    for (let i = this.usedColor.length - 1; i >= 0; i--) {\r\n      this.createUsedColorItem(this.usedColor[i]);\r\n    }\r\n  }\r\n  createUsedColorItem(color) {\r\n    const option = this.createUsedColorOption(color);\r\n    this.select.appendChild(option);\r\n    const label = this.buildItem(option);\r\n    label.setAttribute('custom', '');\r\n    this.usedColorLabels.insertBefore(label, this.usedColorLabels.firstChild);\r\n  }\r\n\r\n  createUsedColorOption(color) {\r\n    const findOption = this.select.querySelector(`option[value='${color}'][custom]`);\r\n    if (findOption) {\r\n      return findOption;\r\n    }\r\n    const option = document.createElement('option');\r\n    option.setAttribute('custom', '');\r\n    option.setAttribute('value', color);\r\n    return option;\r\n  }\r\n\r\n  removeUsedColor(color) {\r\n    const option = this.select.querySelector(`option[value='${color}'][custom]`);\r\n    const label = this.options.querySelector(`p[data-value='${color}'][custom]`);\r\n    option && option.remove();\r\n    label && label.remove();\r\n  }\r\n\r\n  selectColor(color) {\r\n    if (!color) return;\r\n    const index = this.usedColor.findIndex((c) => c === color);\r\n    if (index !== -1) {\r\n      const repeatColor = this.usedColor.splice(index, 1);\r\n      this.removeUsedColor(repeatColor);\r\n    }\r\n    this.usedColor.unshift(color);\r\n    const removeColors = this.usedColor.slice(this.themeOptions.maxHistoryColor);\r\n    removeColors.map((color) => this.removeUsedColor(color));\r\n    this.usedColor = this.usedColor.slice(0, this.themeOptions.maxHistoryColor);\r\n    localStorage.setItem(this.localColorUsedKey, JSON.stringify(this.usedColor));\r\n    this.createUsedColorItem(color);\r\n  }\r\n\r\n  buildItem(option) {\r\n    if (option.value === 'custom') {\r\n      const item = document.createElement('div');\r\n      const input = document.createElement('input');\r\n      item.classList.add('custom');\r\n      input.setAttribute('type', 'color');\r\n      item.appendChild(input);\r\n\r\n      input.addEventListener(\r\n        'input',\r\n        debounce(() => {\r\n          this.selectColor(input.value);\r\n          this.selectItem(this.options.querySelector(`p[data-value='${input.value}']`), true);\r\n        }, 300)\r\n      );\r\n      this.customColorInput = input;\r\n      return item;\r\n    } else {\r\n      const item = document.createElement('p');\r\n      item.tabIndex = '0';\r\n      item.setAttribute('role', 'button');\r\n      item.classList.add('ql-picker-item');\r\n      if (!option.value) {\r\n        item.classList.add('blank');\r\n      }\r\n      if (option.hasAttribute('value')) {\r\n        item.setAttribute('data-value', option.getAttribute('value'));\r\n      }\r\n      if (option.textContent) {\r\n        item.setAttribute('data-label', option.textContent);\r\n      }\r\n      item.addEventListener('click', () => {\r\n        this.selectColor(item?.dataset?.value);\r\n        this.selectItem(item, true);\r\n      });\r\n\r\n      item.style.backgroundColor = option.getAttribute('value') || '';\r\n      return item;\r\n    }\r\n  }\r\n\r\n  selectItem(item, trigger = false) {\r\n    const selected = this.container.querySelector('.ql-selected');\r\n    if (item === selected) return;\r\n    if (selected != null) {\r\n      selected.classList.remove('ql-selected');\r\n    }\r\n    if (item == null) return;\r\n    item.classList.add('ql-selected');\r\n    // change index find function\r\n    this.select.selectedIndex = Array.from(this.select.children).findIndex(\r\n      (option) => option.value === (item.dataset.value ?? '')\r\n    );\r\n    if (item.hasAttribute('data-value')) {\r\n      this.label.setAttribute('data-value', item.getAttribute('data-value'));\r\n    } else {\r\n      this.label.removeAttribute('data-value');\r\n    }\r\n    if (item.hasAttribute('data-label')) {\r\n      this.label.setAttribute('data-label', item.getAttribute('data-label'));\r\n    } else {\r\n      this.label.removeAttribute('data-label');\r\n    }\r\n\r\n    if (trigger) {\r\n      this.select.dispatchEvent(new Event('change'));\r\n      this.themeOptions.closeAfterChange && this.close();\r\n    }\r\n\r\n    const colorLabel = this.label.querySelector('.ql-color-label');\r\n    const value = item ? item.getAttribute('data-value') || '' : '';\r\n    if (colorLabel) {\r\n      if (colorLabel.tagName === 'line') {\r\n        colorLabel.style.stroke = value;\r\n      } else {\r\n        colorLabel.style.fill = value;\r\n      }\r\n    }\r\n  }\r\n}\r\n","export function debounce(fn, delay) {\r\n  let timestamp;\r\n  return function (...args) {\r\n    if (timestamp) {\r\n      clearTimeout(timestamp);\r\n    }\r\n    timestamp = setTimeout(() => {\r\n      fn.apply(this, args);\r\n    }, delay);\r\n  };\r\n}\r\n","import Quill from 'quill';\r\nconst SnowTheme = Quill.import('themes/snow');\r\nconst IconPicker = Quill.import('ui/icon-picker');\r\nconst Picker = Quill.import('ui/picker');\r\n\r\nimport EasyColorPicker from '../ui/easy-color-pick';\r\n\r\nconst ALIGNS = [false, 'center', 'right', 'justify'];\r\nconst FONTS = [false, 'serif', 'monospace'];\r\nconst HEADERS = ['1', '2', '3', false];\r\nconst SIZES = ['small', false, 'large', 'huge'];\r\nconst COLORS = [\r\n  false,\r\n  'rgb(255, 255, 255)',\r\n  'rgb(0, 0, 0)',\r\n  'rgb(72, 83, 104)',\r\n  'rgb(41, 114, 244)',\r\n  'rgb(0, 163, 245)',\r\n  'rgb(49, 155, 98)',\r\n  'rgb(222, 60, 54)',\r\n  'rgb(248, 136, 37)',\r\n  'rgb(245, 196, 0)',\r\n  'rgb(153, 56, 215)',\r\n\r\n  'rgb(242, 242, 242)',\r\n  'rgb(127, 127, 127)',\r\n  'rgb(243, 245, 247)',\r\n  'rgb(229, 239, 255)',\r\n  'rgb(229, 246, 255)',\r\n  'rgb(234, 250, 241)',\r\n  'rgb(254, 233, 232)',\r\n  'rgb(254, 243, 235)',\r\n  'rgb(254, 249, 227)',\r\n  'rgb(253, 235, 255)',\r\n\r\n  'rgb(216, 216, 216)',\r\n  'rgb(89, 89, 89)',\r\n  'rgb(197, 202, 211)',\r\n  'rgb(199, 220, 255)',\r\n  'rgb(199, 236, 255)',\r\n  'rgb(195, 234, 213)',\r\n  'rgb(255, 201, 199)',\r\n  'rgb(255, 220, 196)',\r\n  'rgb(255, 238, 173)',\r\n  'rgb(242, 199, 255)',\r\n\r\n  'rgb(191, 191, 191)',\r\n  'rgb(63, 63, 63)',\r\n  'rgb(128, 139, 158)',\r\n  'rgb(153, 190, 255)',\r\n  'rgb(153, 221, 255)',\r\n  'rgb(152, 215, 182)',\r\n  'rgb(255, 156, 153)',\r\n  'rgb(255, 186, 132)',\r\n  'rgb(255, 226, 112)',\r\n  'rgb(213, 142, 255)',\r\n\r\n  'rgb(165, 165, 165)',\r\n  'rgb(38, 38, 38)',\r\n  'rgb(53, 59, 69)',\r\n  'rgb(20, 80, 184)',\r\n  'rgb(18, 116, 165)',\r\n  'rgb(39, 124, 79)',\r\n  'rgb(158, 30, 26)',\r\n  'rgb(184, 96, 20)',\r\n  'rgb(163, 130, 0)',\r\n  'rgb(94, 34, 129)',\r\n\r\n  'rgb(147, 147, 147)',\r\n  'rgb(13, 13, 13)',\r\n  'rgb(36, 39, 46)',\r\n  'rgb(12, 48, 110)',\r\n  'rgb(10, 65, 92)',\r\n  'rgb(24, 78, 50)',\r\n  'rgb(88, 17, 14)',\r\n  'rgb(92, 48, 10)',\r\n  'rgb(102, 82, 0)',\r\n  'rgb(59, 21, 81)',\r\n\r\n  'custom',\r\n];\r\n\r\nexport default class EasyColorSnowTheme extends SnowTheme {\r\n  buildPickers(selects, icons) {\r\n    this.pickers = Array.from(selects).map((select) => {\r\n      if (select.classList.contains('ql-align')) {\r\n        if (select.querySelector('option') == null) {\r\n          fillSelect(select, ALIGNS);\r\n        }\r\n        if (typeof icons.align === 'object') {\r\n          return new IconPicker(select, icons.align);\r\n        }\r\n      }\r\n      if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\r\n        const format = select.classList.contains('ql-background') ? 'background' : 'color';\r\n        if (select.querySelector('option') == null) {\r\n          fillSelect(select, COLORS);\r\n        }\r\n        return new EasyColorPicker(select, icons[format], this.options.themeOptions);\r\n      }\r\n      if (select.querySelector('option') == null) {\r\n        if (select.classList.contains('ql-font')) {\r\n          fillSelect(select, FONTS);\r\n        } else if (select.classList.contains('ql-header')) {\r\n          fillSelect(select, HEADERS);\r\n        } else if (select.classList.contains('ql-size')) {\r\n          fillSelect(select, SIZES);\r\n        }\r\n      }\r\n      return new Picker(select);\r\n    });\r\n    const update = () => {\r\n      this.pickers.forEach((picker) => {\r\n        picker.update();\r\n      });\r\n    };\r\n    this.quill.on(Quill.events.EDITOR_CHANGE, update);\r\n  }\r\n}\r\n\r\nfunction fillSelect(select, values, defaultValue = false) {\r\n  values.forEach((value) => {\r\n    const option = document.createElement('option');\r\n    if (value === defaultValue) {\r\n      option.setAttribute('selected', 'selected');\r\n    } else {\r\n      option.setAttribute('value', value);\r\n    }\r\n    select.appendChild(option);\r\n  });\r\n}\r\n","import Quill from 'quill';\r\nconst BubbleTheme = Quill.import('themes/bubble');\r\nconst IconPicker = Quill.import('ui/icon-picker');\r\nconst Picker = Quill.import('ui/picker');\r\n\r\nimport EasyColorPicker from '../ui/easy-color-pick';\r\n\r\nconst ALIGNS = [false, 'center', 'right', 'justify'];\r\nconst FONTS = [false, 'serif', 'monospace'];\r\nconst HEADERS = ['1', '2', '3', false];\r\nconst SIZES = ['small', false, 'large', 'huge'];\r\nconst COLORS = [\r\n  false,\r\n  'rgb(255, 255, 255)',\r\n  'rgb(0, 0, 0)',\r\n  'rgb(72, 83, 104)',\r\n  'rgb(41, 114, 244)',\r\n  'rgb(0, 163, 245)',\r\n  'rgb(49, 155, 98)',\r\n  'rgb(222, 60, 54)',\r\n  'rgb(248, 136, 37)',\r\n  'rgb(245, 196, 0)',\r\n  'rgb(153, 56, 215)',\r\n\r\n  'rgb(242, 242, 242)',\r\n  'rgb(127, 127, 127)',\r\n  'rgb(243, 245, 247)',\r\n  'rgb(229, 239, 255)',\r\n  'rgb(229, 246, 255)',\r\n  'rgb(234, 250, 241)',\r\n  'rgb(254, 233, 232)',\r\n  'rgb(254, 243, 235)',\r\n  'rgb(254, 249, 227)',\r\n  'rgb(253, 235, 255)',\r\n\r\n  'rgb(216, 216, 216)',\r\n  'rgb(89, 89, 89)',\r\n  'rgb(197, 202, 211)',\r\n  'rgb(199, 220, 255)',\r\n  'rgb(199, 236, 255)',\r\n  'rgb(195, 234, 213)',\r\n  'rgb(255, 201, 199)',\r\n  'rgb(255, 220, 196)',\r\n  'rgb(255, 238, 173)',\r\n  'rgb(242, 199, 255)',\r\n\r\n  'rgb(191, 191, 191)',\r\n  'rgb(63, 63, 63)',\r\n  'rgb(128, 139, 158)',\r\n  'rgb(153, 190, 255)',\r\n  'rgb(153, 221, 255)',\r\n  'rgb(152, 215, 182)',\r\n  'rgb(255, 156, 153)',\r\n  'rgb(255, 186, 132)',\r\n  'rgb(255, 226, 112)',\r\n  'rgb(213, 142, 255)',\r\n\r\n  'rgb(165, 165, 165)',\r\n  'rgb(38, 38, 38)',\r\n  'rgb(53, 59, 69)',\r\n  'rgb(20, 80, 184)',\r\n  'rgb(18, 116, 165)',\r\n  'rgb(39, 124, 79)',\r\n  'rgb(158, 30, 26)',\r\n  'rgb(184, 96, 20)',\r\n  'rgb(163, 130, 0)',\r\n  'rgb(94, 34, 129)',\r\n\r\n  'rgb(147, 147, 147)',\r\n  'rgb(13, 13, 13)',\r\n  'rgb(36, 39, 46)',\r\n  'rgb(12, 48, 110)',\r\n  'rgb(10, 65, 92)',\r\n  'rgb(24, 78, 50)',\r\n  'rgb(88, 17, 14)',\r\n  'rgb(92, 48, 10)',\r\n  'rgb(102, 82, 0)',\r\n  'rgb(59, 21, 81)',\r\n\r\n  'custom',\r\n];\r\n\r\nexport default class EasyColorBubbleTheme extends BubbleTheme {\r\n  buildPickers(selects, icons) {\r\n    this.pickers = Array.from(selects).map((select) => {\r\n      if (select.classList.contains('ql-align')) {\r\n        if (select.querySelector('option') == null) {\r\n          fillSelect(select, ALIGNS);\r\n        }\r\n        if (typeof icons.align === 'object') {\r\n          return new IconPicker(select, icons.align);\r\n        }\r\n      }\r\n      if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\r\n        const format = select.classList.contains('ql-background') ? 'background' : 'color';\r\n        if (select.querySelector('option') == null) {\r\n          fillSelect(select, COLORS);\r\n        }\r\n        return new EasyColorPicker(select, icons[format], this.options.themeOptions);\r\n      }\r\n      if (select.querySelector('option') == null) {\r\n        if (select.classList.contains('ql-font')) {\r\n          fillSelect(select, FONTS);\r\n        } else if (select.classList.contains('ql-header')) {\r\n          fillSelect(select, HEADERS);\r\n        } else if (select.classList.contains('ql-size')) {\r\n          fillSelect(select, SIZES);\r\n        }\r\n      }\r\n      return new Picker(select);\r\n    });\r\n    const update = () => {\r\n      this.pickers.forEach((picker) => {\r\n        picker.update();\r\n      });\r\n    };\r\n    this.quill.on(Quill.events.EDITOR_CHANGE, update);\r\n  }\r\n}\r\n\r\nfunction fillSelect(select, values, defaultValue = false) {\r\n  values.forEach((value) => {\r\n    const option = document.createElement('option');\r\n    if (value === defaultValue) {\r\n      option.setAttribute('selected', 'selected');\r\n    } else {\r\n      option.setAttribute('value', value);\r\n    }\r\n    select.appendChild(option);\r\n  });\r\n}\r\n"],"names":["Picker","Quill","EasyColorPicker","_Picker$","select","label","themeOptions","_this2","_classCallCheck","_callSuper","Object","assign","localStorageKey","closeAfterChange","customColorChangeDelay","maxHistoryColor","innerHTML","container","classList","add","localColorUsedKey","concat","className","usedColorOptions","usedColor","JSON","parse","localStorage","getItem","Array","Error","e","setItem","createUsedColor","_inherits","_createClass","key","value","usedWrap","document","createElement","usedColorLabels","appendChild","this","options","i","length","createUsedColorItem","color","option","createUsedColorOption","buildItem","setAttribute","insertBefore","firstChild","findOption","querySelector","remove","_this3","index","findIndex","c","repeatColor","splice","removeUsedColor","unshift","slice","map","stringify","_this4","item","input","addEventListener","fn","selectColor","selectItem","delay","_this","_len","arguments","args","_key","timestamp","clearTimeout","setTimeout","apply","customColorInput","tabIndex","hasAttribute","getAttribute","textContent","_item$dataset","dataset","style","backgroundColor","trigger","undefined","selected","selectedIndex","from","children","_item$dataset$value","removeAttribute","dispatchEvent","Event","close","colorLabel","tagName","stroke","fill","SnowTheme","IconPicker","ALIGNS","FONTS","HEADERS","SIZES","COLORS","EasyColorSnowTheme","_SnowTheme","selects","icons","_this5","pickers","contains","fillSelect","_typeof","align","format","quill","on","events","EDITOR_CHANGE","forEach","picker","update","values","defaultValue","BubbleTheme","EasyColorBubbleTheme","_BubbleTheme","_this6"],"mappings":"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"}